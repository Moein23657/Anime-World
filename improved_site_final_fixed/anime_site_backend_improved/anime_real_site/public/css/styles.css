/*
    Custom styles for the AnimeWorld demo site.

    This stylesheet encapsulates the aesthetic and interactive styling
    originally defined inline within the HTML template.  Extracting
    these rules into a separate file allows the browser to cache
    styles independently from markup and scripts, resulting in
    improved performance and a cleaner separation of concerns.

    The colour palette uses CSS custom properties (variables) to make
    it easy to adjust primary and secondary hues site‑wide.  If you
    wish to tweak the look, modify the values in the `:root` block.

    NOTE: The site supports both dark and light modes.  A
    `light-mode` class on the body element toggles alternate rules.
*/

@import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap');

/* Colour palette definitions */
:root {
    --color-primary-500: #6366f1; /* indigo-500 */
    --color-primary-600: #4f46e5; /* indigo-600 */
    --color-secondary-500: #ec4899; /* pink-500 */
    --color-primary-500-rgb: 99, 102, 241;
    --color-secondary-500-rgb: 236, 72, 153;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Vazirmatn', sans-serif;
    background-color: #0b0f19;
    color: #e2e8f0;
    overflow-x: hidden;
    line-height: 1.6;
}

/* Skip link for keyboard navigation */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--color-primary-500);
    color: #fff;
    padding: 0.75rem 1rem;
    border-radius: 0.5rem;
    z-index: 100;
    transition: top 0.3s ease;
}
.skip-link:focus {
    top: 0.5rem;
}

/* Aurora background effect */
#aurora-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -10;
    overflow: hidden;
    filter: blur(100px) opacity(0.15);
}
.aurora-blob {
    position: absolute;
    border-radius: 50%;
    will-change: transform;
}
.aurora-blob-1 {
    width: 600px;
    height: 600px;
    background: var(--color-primary-500);
    top: -150px;
    left: -200px;
    animation: move-blob-1 20s infinite alternate ease-in-out;
}
.aurora-blob-2 {
    width: 500px;
    height: 500px;
    background: var(--color-secondary-500);
    bottom: -200px;
    right: -150px;
    animation: move-blob-2 25s infinite alternate ease-in-out;
}

@keyframes move-blob-1 {
    from { transform: translate(0, 0) scale(1); }
    to { transform: translate(150px, 100px) scale(1.2); }
}

@keyframes move-blob-2 {
    from { transform: translate(0, 0) scale(1.2); }
    to { transform: translate(-100px, -150px) scale(0.8); }
}

/* Reduced motion preference: turn off heavy animations */
@media (prefers-reduced-motion: reduce) {
    .aurora-blob-1,
    .aurora-blob-2,
    .slider-item img.ken-burns {
        animation: none !important;
    }
}

/* Custom scrollbar styling */
::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: #0f172a; }
::-webkit-scrollbar-thumb {
    background-color: var(--color-primary-500);
    border-radius: 6px;
    border: 2px solid #0f172a;
}
::-webkit-scrollbar-thumb:hover { background-color: var(--color-primary-600); }

/* Navigation styling */
header nav button {
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    transition: background-color 0.2s ease;
}
header nav button:hover {
    background-color: rgba(var(--color-primary-500-rgb), 0.15);
}
/* Mobile navigation buttons */
#nav-links-mobile button {
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    text-align: right;
}

/* Logo gradient text */
.logo-gradient {
    background: linear-gradient(90deg, var(--color-primary-500), var(--color-secondary-500));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: hue-rotate 6s linear infinite;
}

@keyframes hue-rotate {
    from { filter: hue-rotate(0deg); }
    to { filter: hue-rotate(360deg); }
}

/* Hero slider animations */
@keyframes ken-burns {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(0.5deg); }
}
.slider-item img.ken-burns {
    animation: ken-burns 25s ease-in-out infinite;
}
/* Fade-in for slider and pages */
.slider-item { display: none; animation: fadeIn 1.5s ease-in-out; }
.slider-item.active { display: block; }
.page { display: none; animation: fadeIn 0.8s ease-in-out; }
.page.active { display: block; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Anime card styling with spotlight effect */
.anime-card {
    position: relative;
    border-radius: 0.75rem;
    overflow: hidden;
    background-color: #1e293b;
    box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.25);
    transition: all 0.3s ease;
    z-index: 1;
}
.anime-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 30px 0 rgba(var(--color-primary-500-rgb), 0.3);
}
.anime-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 0.75rem;
    background: radial-gradient(
        circle at var(--mouse-x) var(--mouse-y),
        rgba(255, 255, 255, 0.1) 0%,
        rgba(255, 255, 255, 0.0) 40%
    );
    opacity: 0;
    transition: opacity 0.2s ease;
    z-index: 3;
}
.anime-card:hover::before {
    opacity: 1;
}
.anime-card .card-content {
    position: relative;
    z-index: 2;
}
.anime-card img {
    transition: transform 0.3s ease;
    z-index: 1;
    loading: lazy;
    decoding: async;
    /* Allow click events to bubble up to the parent container. Without this, the image consumes
       the click and prevents the card’s onClick handler from firing, forcing users to double‑click. */
    pointer-events: none;
}
.anime-card:hover img {
    transform: scale(1.05);
}
.anime-card .play-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -80%) scale(0.8);
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    padding: 1.25rem;
    opacity: 0;
    transition: all 0.3s ease;
    box-shadow: 0 0 20px 5px rgba(255, 255, 255, 0.3);
    z-index: 4;
}
.anime-card:hover .play-icon {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
}

/* Gradient button with shimmer */
.btn-gradient {
    position: relative;
    overflow: hidden;
    background-image: linear-gradient(to right, var(--color-primary-600) 0%, var(--color-secondary-500) 100%);
    transition: all 0.3s ease;
    background-size: 200% auto;
    z-index: 1;
}
.btn-gradient:hover {
    background-position: right center;
    box-shadow: 0 5px 15px 0 rgba(var(--color-secondary-500-rgb), 0.3);
}
.btn-gradient::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 20px;
    height: 200%;
    background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0) 100%);
    transform: rotate(25deg);
    opacity: 0;
    transition: all 0.5s ease;
}
.btn-gradient:hover::after {
    left: 120%;
    opacity: 1;
}

/* Reveal on scroll animation */
.reveal-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}
.reveal-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
}

/* Hero content reveals */
.hero-content > * {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.7s ease-out;
}
.slider-item.active .hero-title {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.2s;
}
.slider-item.active .hero-desc {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.4s;
}
.slider-item.active .hero-btn {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0.6s;
}

/* Search input focus styles */
#search-input {
    transition: all 0.3s ease;
}
#search-input:focus {
    box-shadow: 0 0 0 3px rgba(var(--color-primary-500-rgb), 0.3);
}

/* Video player wrapper */
.video-player {
    position: relative;
    padding-top: 56.25%;
}
.video-player iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* Favourites button active state */
.favorite-btn.active {
    color: #ec4899;
    fill: #ec4899;
}

/* Dark/light mode overrides */
body.light-mode {
    background-color: #f3f4f6;
    color: #1f2937;
}
body.light-mode .bg-slate-900\/70 {
    background-color: rgba(255,255,255,0.8);
}
body.light-mode .text-white {
    color: #1f2937;
}
body.light-mode .bg-slate-800 {
    background-color: #e5e7eb;
}
body.light-mode .text-gray-300 {
    color: #4b5563;
}
body.light-mode .border-slate-700 {
    border-color: #d1d5db;
}
body.light-mode .text-gray-400 {
    color: #6b7280;
}
body.light-mode .anime-card {
    background-color: #ffffff;
    box-shadow: 0 4px 14px 0 rgba(0, 0, 0, 0.1);
}
body.light-mode .anime-card:hover {
    box-shadow: 0 10px 30px 0 rgba(0, 0, 0, 0.15);
}
body.light-mode .btn-gradient {
    background-image: linear-gradient(to right, var(--color-primary-500) 0%, var(--color-secondary-500) 100%);
}
body.light-mode #aurora-background {
    filter: blur(100px) opacity(0.05);
}

/* Loading spinner */
.loading-spinner {
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-top: 4px solid var(--color-primary-500);
    border-radius: 50%;
    width: 36px;
    height: 36px;
    animation: spin 1s linear infinite;
    margin: auto;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Video modal */
#video-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}
#video-modal.active {
    opacity: 1;
    pointer-events: auto;
}
#video-modal .modal-content {
    width: 90%;
    max-width: 800px;
    padding: 1rem;
    background-color: #1e293b;
    border-radius: 0.5rem;
}
#video-modal .close-btn {
    cursor: pointer;
    position: absolute;
    top: 1rem;
    right: 1rem;
    color: #fff;
    font-size: 1.5rem;
}

/* Additional styles for enhanced features */
/* Search suggestions dropdown: displayed under the search field */
#search-suggestions {
    direction: rtl;
    max-height: 12rem;
    overflow-y: auto;
    background-color: #1e293b;
    border: 1px solid #334155;
    border-radius: 0.5rem;
    z-index: 50;
}
#search-suggestions li {
    /* Reset the default styles for suggestion items so custom classes applied
       via JavaScript don’t conflict with hard‑coded padding values.  We
       deliberately avoid setting display or alignment here because the list
       items include their own flexbox classes in the template. */
    cursor: pointer;
    white-space: nowrap;
}
#search-suggestions li:hover {
    background-color: rgba(var(--color-primary-500-rgb), 0.15);
}
/* Ensure thumbnails in the search suggestions are consistently sized and
   rounded.  We target any <img> within the suggestions list regardless of
   additional classes. */
#search-suggestions li img {
    width: 2rem;
    height: 3rem;
    object-fit: cover;
    border-radius: 0.25rem;
    flex-shrink: 0;
}
/* User rating stars styling */
#user-rating .user-rating-star {
    cursor: pointer;
    font-size: 1.25rem;
    line-height: 1;
    margin-left: 0.1rem;
}